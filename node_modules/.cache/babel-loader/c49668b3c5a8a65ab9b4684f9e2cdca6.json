{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vatsal\\\\Documents\\\\React\\\\calculator\\\\src\\\\components\\\\CalculatorApp.js\";\nimport React from \"react\";\nimport { Component } from \"react\";\nimport Display from \"./Display\";\nimport Dialpad from \"./Dialpad\";\nimport updateState from \"./Calculate\";\n\nclass CalculatorApp extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      op1: null,\n      op2: null,\n      operation: null,\n      key: \"\"\n    };\n    this.validKeys = [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"0\", \".\", \"+\", \"/\", \"*\", \"-\", \"=\", \"CE\", \"AC\"];\n\n    this.handleClick = name => {\n      if (this.state.key !== \"Enter\") this.setState(updateState(this.state, name));\n    };\n\n    this.handleKeyDown = event => {\n      if (this.state.op1 === \"Err\" && event.key !== \"Delete\") return;\n      let key = event.key;\n      if (key === \"Backspace\") key = \"CE\";\n      if (key === \"Delete\") key = \"AC\";\n      if (key === \"Enter\") key = \"=\";\n      let index = this.validKeys.indexOf(key);\n\n      if (index !== -1) {\n        this.setState(updateState(this.state, key));\n        this.setState(() => ({\n          key\n        })); // let updateTimer = function() {\n        //\n        //   this.timeOutActive.active = false;\n        //   this.timeOutActive.id = \"\";\n        // }.bind(this);\n        // if (this.timeOutActive.active) {\n        //   clearTimeout(this.timeOutActive.id);\n        // }\n        // let id = setTimeout(updateTimer, 100);\n        // this.timeOutActive.active = true;\n        // this.timeOutActive.id = id;\n        // let key = event.key;\n        //\n      }\n    };\n\n    this.handleKeyUp = event => {\n      this.setState(() => ({\n        key: \"\"\n      }));\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      onKeyDown: this.handleKeyDown,\n      onKeyUp: this.handleKeyUp,\n      tabIndex: 0,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(Display, {\n      data: this.state,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), React.createElement(Dialpad, {\n      onClick: this.handleClick,\n      disabled: this.state.op1,\n      keyPressed: this.state.key,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default CalculatorApp;","map":{"version":3,"sources":["C:/Users/vatsal/Documents/React/calculator/src/components/CalculatorApp.js"],"names":["React","Component","Display","Dialpad","updateState","CalculatorApp","state","op1","op2","operation","key","validKeys","handleClick","name","setState","handleKeyDown","event","index","indexOf","handleKeyUp","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,WAAP,MAAwB,aAAxB;;AACA,MAAMC,aAAN,SAA4BJ,SAA5B,CAAsC;AAAA;AAAA;AAAA,SACpCK,KADoC,GAC5B;AACNC,MAAAA,GAAG,EAAE,IADC;AAENC,MAAAA,GAAG,EAAE,IAFC;AAGNC,MAAAA,SAAS,EAAE,IAHL;AAINC,MAAAA,GAAG,EAAE;AAJC,KAD4B;AAAA,SAQpCC,SARoC,GAQxB,CACV,GADU,EAEV,GAFU,EAGV,GAHU,EAIV,GAJU,EAKV,GALU,EAMV,GANU,EAOV,GAPU,EAQV,GARU,EASV,GATU,EAUV,GAVU,EAWV,GAXU,EAYV,GAZU,EAaV,GAbU,EAcV,GAdU,EAeV,GAfU,EAgBV,GAhBU,EAiBV,IAjBU,EAkBV,IAlBU,CARwB;;AAAA,SA4BpCC,WA5BoC,GA4BtBC,IAAI,IAAI;AACpB,UAAI,KAAKP,KAAL,CAAWI,GAAX,KAAmB,OAAvB,EACE,KAAKI,QAAL,CAAcV,WAAW,CAAC,KAAKE,KAAN,EAAaO,IAAb,CAAzB;AACH,KA/BmC;;AAAA,SAgCpCE,aAhCoC,GAgCpBC,KAAK,IAAI;AACvB,UAAI,KAAKV,KAAL,CAAWC,GAAX,KAAmB,KAAnB,IAA4BS,KAAK,CAACN,GAAN,KAAc,QAA9C,EAAwD;AACxD,UAAIA,GAAG,GAAGM,KAAK,CAACN,GAAhB;AACA,UAAIA,GAAG,KAAK,WAAZ,EAAyBA,GAAG,GAAG,IAAN;AACzB,UAAIA,GAAG,KAAK,QAAZ,EAAsBA,GAAG,GAAG,IAAN;AACtB,UAAIA,GAAG,KAAK,OAAZ,EAAqBA,GAAG,GAAG,GAAN;AACrB,UAAIO,KAAK,GAAG,KAAKN,SAAL,CAAeO,OAAf,CAAuBR,GAAvB,CAAZ;;AACA,UAAIO,KAAK,KAAK,CAAC,CAAf,EAAkB;AAChB,aAAKH,QAAL,CAAcV,WAAW,CAAC,KAAKE,KAAN,EAAaI,GAAb,CAAzB;AACA,aAAKI,QAAL,CAAc,OAAO;AAAEJ,UAAAA;AAAF,SAAP,CAAd,EAFgB,CAGhB;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD;AACF,KAzDmC;;AAAA,SA2DpCS,WA3DoC,GA2DtBH,KAAK,IAAI;AACrB,WAAKF,QAAL,CAAc,OAAO;AAAEJ,QAAAA,GAAG,EAAE;AAAP,OAAP,CAAd;AACD,KA7DmC;AAAA;;AA+DpCU,EAAAA,MAAM,GAAG;AACP,WACE;AACE,MAAA,SAAS,EAAE,KAAKL,aADlB;AAEE,MAAA,OAAO,EAAE,KAAKI,WAFhB;AAGE,MAAA,QAAQ,EAAE,CAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKE,oBAAC,OAAD;AAAS,MAAA,IAAI,EAAE,KAAKb,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,EAME,oBAAC,OAAD;AACE,MAAA,OAAO,EAAE,KAAKM,WADhB;AAEE,MAAA,QAAQ,EAAE,KAAKN,KAAL,CAAWC,GAFvB;AAGE,MAAA,UAAU,EAAE,KAAKD,KAAL,CAAWI,GAHzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,CADF;AAcD;;AA9EmC;;AAgFtC,eAAeL,aAAf","sourcesContent":["import React from \"react\";\r\nimport { Component } from \"react\";\r\nimport Display from \"./Display\";\r\nimport Dialpad from \"./Dialpad\";\r\nimport updateState from \"./Calculate\";\r\nclass CalculatorApp extends Component {\r\n  state = {\r\n    op1: null,\r\n    op2: null,\r\n    operation: null,\r\n    key: \"\"\r\n  };\r\n\r\n  validKeys = [\r\n    \"1\",\r\n    \"2\",\r\n    \"3\",\r\n    \"4\",\r\n    \"5\",\r\n    \"6\",\r\n    \"7\",\r\n    \"8\",\r\n    \"9\",\r\n    \"0\",\r\n    \".\",\r\n    \"+\",\r\n    \"/\",\r\n    \"*\",\r\n    \"-\",\r\n    \"=\",\r\n    \"CE\",\r\n    \"AC\"\r\n  ];\r\n  handleClick = name => {\r\n    if (this.state.key !== \"Enter\")\r\n      this.setState(updateState(this.state, name));\r\n  };\r\n  handleKeyDown = event => {\r\n    if (this.state.op1 === \"Err\" && event.key !== \"Delete\") return;\r\n    let key = event.key;\r\n    if (key === \"Backspace\") key = \"CE\";\r\n    if (key === \"Delete\") key = \"AC\";\r\n    if (key === \"Enter\") key = \"=\";\r\n    let index = this.validKeys.indexOf(key);\r\n    if (index !== -1) {\r\n      this.setState(updateState(this.state, key));\r\n      this.setState(() => ({ key }));\r\n      // let updateTimer = function() {\r\n      //\r\n      //   this.timeOutActive.active = false;\r\n      //   this.timeOutActive.id = \"\";\r\n      // }.bind(this);\r\n\r\n      // if (this.timeOutActive.active) {\r\n      //   clearTimeout(this.timeOutActive.id);\r\n      // }\r\n      // let id = setTimeout(updateTimer, 100);\r\n      // this.timeOutActive.active = true;\r\n      // this.timeOutActive.id = id;\r\n      // let key = event.key;\r\n      //\r\n    }\r\n  };\r\n\r\n  handleKeyUp = event => {\r\n    this.setState(() => ({ key: \"\" }));\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        onKeyDown={this.handleKeyDown}\r\n        onKeyUp={this.handleKeyUp}\r\n        tabIndex={0}\r\n      >\r\n        <Display data={this.state} />\r\n        <Dialpad\r\n          onClick={this.handleClick}\r\n          disabled={this.state.op1}\r\n          keyPressed={this.state.key}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default CalculatorApp;\r\n"]},"metadata":{},"sourceType":"module"}