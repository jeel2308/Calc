{"ast":null,"code":"function updateState(obj, name) {\n  if (isNaN(Number(name)) && name !== \".\") {\n    state.updateOperation(name, obj);\n  } else {\n    state.operands(name, obj);\n  } //console.log(obj);\n\n\n  return obj;\n}\n\nlet ops = {\n  \"+\": (num1, num2) => {\n    console.log(typeof num1, typeof num2);\n    let id1 = num1.indexOf(\".\");\n    let id2 = num2.indexOf(\".\");\n    if (id1 !== -1) id1 = num1.length - 1 - id1;\n    if (id2 !== -1) id2 = num2.length - 1 - id2;\n    id1 = id1 >= id2 ? id1 : id2;\n    num1 = Number(num1);\n    num2 = Number(num2);\n    let num3 = num1 + num2;\n\n    if (id1 !== -1) {\n      num3 = num3.toFixed(id1).toString();\n      console.log(typeof num3);\n      let flag = 0;\n\n      for (let i = num3.indexOf(\".\") + 1; i < num3.length; i++) {\n        if (num3[i] !== \"0\") {\n          flag++;\n          break;\n        }\n      }\n\n      if (!flag) return num3.substr(0, num3.indexOf(\".\"));else return num3;\n    } else return num3.toString(); //return num1 + num2;\n\n  },\n  \"*\": (num1, num2) => {\n    let id1 = num1.indexOf(\".\");\n    let id2 = num2.indexOf(\".\");\n    if (id1 !== -1) id1 = num1.length - 1 - id1;else id1 = 0;\n    if (id2 !== -1) id2 = num2.length - 1 - id2;else id2 = 0;\n    id1 = id1 + id2;\n    let num3 = num1 * num2;\n\n    if (id1) {\n      num3 = num3.toFixed(id1).toString();\n      let flag = 0;\n\n      for (let i = num3.indexOf(\".\") + 1; i < num3.length; i++) {\n        if (num3[i] !== \"0\") {\n          flag++;\n          break;\n        }\n      }\n\n      if (!flag) return num3.substr(0, num3.indexOf(\".\"));else return num3;\n    } else return num3.toString();\n  },\n  \"/\": (num1, num2) => num2 == 0 ? \"Err\" : (num1 / num2).toString(),\n  \"-\": (num1, num2) => {\n    let id1 = num1.indexOf(\".\");\n    let id2 = num2.indexOf(\".\");\n    if (id1 !== -1) id1 = num1.length - 1 - id1;\n    if (id2 !== -1) id2 = num2.length - 1 - id2;\n    id1 = id1 >= id2 ? id1 : id2;\n    num1 = Number(num1);\n    num2 = Number(num2);\n    let num3 = num1 - num2;\n\n    if (id1 !== -1) {\n      num3 = num3.toFixed(id1).toString();\n      let flag = 0;\n\n      for (let i = num3.indexOf(\".\") + 1; i < num3.length; i++) {\n        if (num3[i] !== \"0\") {\n          flag++;\n          break;\n        }\n      }\n\n      if (!flag) return num3.substr(0, num3.indexOf(\".\"));else return num3;\n    } else return num3.toString();\n  },\n  \"%\": (num1, num2) => (Number(num1) % Number(num2)).toString(),\n  Usqrt: num1 => Math.sqrt(num1),\n  AC: obj => {\n    obj.op1 = null;\n    obj.op2 = obj.operation = null;\n  },\n  CE: str => str.substr(0, str.length - 1),\n  calculate: (obj, name) => {\n    if (!name) obj.op1 = \"\" + ops[obj.operation](obj.op2, obj.op1);else obj.op1 = \"\" + ops[name](Number(obj.op1));\n  }\n};\nlet state = {\n  next_op: 1,\n  // warning: false,\n  //done: false,\n  operands: (name, obj) => {\n    //  if (!state.warning) {\n    if (state.next_op) {\n      if (name === \".\") obj.op1 = \"0.\";else obj.op1 = name;\n      state.next_op = 0;\n    } else {\n      if (obj.op1 === null) {\n        if (name === \".\") obj.op1 = \"0.\";else obj.op1 = name;\n      } else obj.op1 = obj.op1 + name;\n    } // }\n\n  },\n  updateOperation: (name, obj) => {\n    // if (!state.warning || name === \"AC\" || name === \"Delete\") {\n    if (name === \"AC\") {\n      ops[name](obj);\n      state.next_op = 1;\n    } else if (name === \"=\" || name === \"Enter\") {\n      //console.log(name);\n      if (!state.next_op && obj.operation) {\n        ops.calculate(obj); // if (obj.op1 === \"Err\") state.warning = true;\n      } else if (state.next_op && obj.operation) obj.op1 = obj.op2;\n\n      obj.op2 = obj.operation = null;\n      state.next_op = 1;\n    } else if (name === \"CE\") {\n      if (obj.op1) obj.op1 = ops[name](obj.op1);\n      if (obj.op1 === \"\") obj.op1 = null;\n    } else if (name[0] === \"U\") {\n      if (obj.op1) ops.calculate(obj, name);\n    } else {\n      if (obj.operation === null) {\n        obj.operation = name;\n        obj.op2 = obj.op1;\n        obj.op1 = null;\n        state.next_op = 1;\n      } else {\n        if (!state.next_op) {\n          ops.calculate(obj);\n\n          if (obj.op1 === \"Err\") {\n            obj.op2 = obj.operation = null; // state.warning = true;\n          } else {\n            obj.operation = name;\n            obj.op2 = obj.op1;\n            obj.op1 = null;\n          }\n\n          state.next_op = 1;\n        } else {\n          obj.operation = name;\n          state.next_op = 1;\n        }\n      }\n    } // }\n\n  }\n};\nexport default updateState;","map":{"version":3,"sources":["C:/Users/vatsal/Documents/React/calculator/src/components/Calculate.js"],"names":["updateState","obj","name","isNaN","Number","state","updateOperation","operands","ops","num1","num2","console","log","id1","indexOf","id2","length","num3","toFixed","toString","flag","i","substr","Usqrt","Math","sqrt","AC","op1","op2","operation","CE","str","calculate","next_op"],"mappings":"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","sourcesContent":["function updateState(obj, name) {\r\n  if (isNaN(Number(name)) && name !== \".\") {\r\n    state.updateOperation(name, obj);\r\n  } else {\r\n    state.operands(name, obj);\r\n  }\r\n  //console.log(obj);\r\n  return obj;\r\n}\r\n\r\nlet ops = {\r\n  \"+\": (num1, num2) => {\r\n    console.log(typeof num1, typeof num2);\r\n    let id1 = num1.indexOf(\".\");\r\n    let id2 = num2.indexOf(\".\");\r\n    if (id1 !== -1) id1 = num1.length - 1 - id1;\r\n    if (id2 !== -1) id2 = num2.length - 1 - id2;\r\n    id1 = id1 >= id2 ? id1 : id2;\r\n    num1 = Number(num1);\r\n    num2 = Number(num2);\r\n    let num3 = num1 + num2;\r\n    if (id1 !== -1) {\r\n      num3 = num3.toFixed(id1).toString();\r\n      console.log(typeof num3);\r\n      let flag = 0;\r\n      for (let i = num3.indexOf(\".\") + 1; i < num3.length; i++) {\r\n        if (num3[i] !== \"0\") {\r\n          flag++;\r\n          break;\r\n        }\r\n      }\r\n      if (!flag) return num3.substr(0, num3.indexOf(\".\"));\r\n      else return num3;\r\n    } else return num3.toString();\r\n    //return num1 + num2;\r\n  },\r\n  \"*\": (num1, num2) => {\r\n    let id1 = num1.indexOf(\".\");\r\n    let id2 = num2.indexOf(\".\");\r\n    if (id1 !== -1) id1 = num1.length - 1 - id1;\r\n    else id1 = 0;\r\n    if (id2 !== -1) id2 = num2.length - 1 - id2;\r\n    else id2 = 0;\r\n    id1 = id1 + id2;\r\n    let num3 = num1 * num2;\r\n    if (id1) {\r\n      num3 = num3.toFixed(id1).toString();\r\n      let flag = 0;\r\n      for (let i = num3.indexOf(\".\") + 1; i < num3.length; i++) {\r\n        if (num3[i] !== \"0\") {\r\n          flag++;\r\n          break;\r\n        }\r\n      }\r\n      if (!flag) return num3.substr(0, num3.indexOf(\".\"));\r\n      else return num3;\r\n    } else return num3.toString();\r\n  },\r\n  \"/\": (num1, num2) => (num2 == 0 ? \"Err\" : (num1 / num2).toString()),\r\n\r\n  \"-\": (num1, num2) => {\r\n    let id1 = num1.indexOf(\".\");\r\n    let id2 = num2.indexOf(\".\");\r\n    if (id1 !== -1) id1 = num1.length - 1 - id1;\r\n    if (id2 !== -1) id2 = num2.length - 1 - id2;\r\n    id1 = id1 >= id2 ? id1 : id2;\r\n    num1 = Number(num1);\r\n    num2 = Number(num2);\r\n    let num3 = num1 - num2;\r\n    if (id1 !== -1) {\r\n      num3 = num3.toFixed(id1).toString();\r\n      let flag = 0;\r\n      for (let i = num3.indexOf(\".\") + 1; i < num3.length; i++) {\r\n        if (num3[i] !== \"0\") {\r\n          flag++;\r\n          break;\r\n        }\r\n      }\r\n      if (!flag) return num3.substr(0, num3.indexOf(\".\"));\r\n      else return num3;\r\n    } else return num3.toString();\r\n  },\r\n  \"%\": (num1, num2) => (Number(num1) % Number(num2)).toString(),\r\n  Usqrt: num1 => Math.sqrt(num1),\r\n  AC: obj => {\r\n    obj.op1 = null;\r\n    obj.op2 = obj.operation = null;\r\n  },\r\n  CE: str => str.substr(0, str.length - 1),\r\n  calculate: (obj, name) => {\r\n    if (!name) obj.op1 = \"\" + ops[obj.operation](obj.op2, obj.op1);\r\n    else obj.op1 = \"\" + ops[name](Number(obj.op1));\r\n  }\r\n};\r\n\r\nlet state = {\r\n  next_op: 1,\r\n  // warning: false,\r\n  //done: false,\r\n  operands: (name, obj) => {\r\n    //  if (!state.warning) {\r\n    if (state.next_op) {\r\n      if (name === \".\") obj.op1 = \"0.\";\r\n      else obj.op1 = name;\r\n      state.next_op = 0;\r\n    } else {\r\n      if (obj.op1 === null) {\r\n        if (name === \".\") obj.op1 = \"0.\";\r\n        else obj.op1 = name;\r\n      } else obj.op1 = obj.op1 + name;\r\n    }\r\n    // }\r\n  },\r\n  updateOperation: (name, obj) => {\r\n    // if (!state.warning || name === \"AC\" || name === \"Delete\") {\r\n    if (name === \"AC\") {\r\n      ops[name](obj);\r\n      state.next_op = 1;\r\n    } else if (name === \"=\" || name === \"Enter\") {\r\n      //console.log(name);\r\n      if (!state.next_op && obj.operation) {\r\n        ops.calculate(obj);\r\n        // if (obj.op1 === \"Err\") state.warning = true;\r\n      } else if (state.next_op && obj.operation) obj.op1 = obj.op2;\r\n      obj.op2 = obj.operation = null;\r\n      state.next_op = 1;\r\n    } else if (name === \"CE\") {\r\n      if (obj.op1) obj.op1 = ops[name](obj.op1);\r\n      if (obj.op1 === \"\") obj.op1 = null;\r\n    } else if (name[0] === \"U\") {\r\n      if (obj.op1) ops.calculate(obj, name);\r\n    } else {\r\n      if (obj.operation === null) {\r\n        obj.operation = name;\r\n        obj.op2 = obj.op1;\r\n        obj.op1 = null;\r\n        state.next_op = 1;\r\n      } else {\r\n        if (!state.next_op) {\r\n          ops.calculate(obj);\r\n          if (obj.op1 === \"Err\") {\r\n            obj.op2 = obj.operation = null;\r\n            // state.warning = true;\r\n          } else {\r\n            obj.operation = name;\r\n            obj.op2 = obj.op1;\r\n            obj.op1 = null;\r\n          }\r\n          state.next_op = 1;\r\n        } else {\r\n          obj.operation = name;\r\n          state.next_op = 1;\r\n        }\r\n      }\r\n    }\r\n    // }\r\n  }\r\n};\r\n\r\nexport default updateState;\r\n"]},"metadata":{},"sourceType":"module"}