{"ast":null,"code":"//import React from 'react';\nfunction updateState(obj, name) {\n  let obj2 = Object.assign({}, obj);\n\n  if (!isNaN(Number(name))) {\n    if (obj2.op1 === null || isNaN(Number(obj2.op1)) || obj2.final) {\n      obj2.op1 = name;\n      obj2.final = 0;\n    } else obj2.op1 = obj2.op1 + name;\n  } // else if(!operations[name] && name!=='='){\n  //     obj2.op1 = \"Invalid number\";\n  //     obj2.op2 = null;\n  //     obj2.operation = null;\n  // }\n  else if (name === \"=\") {\n      obj2 = calculate(obj2, name);\n    } else if (name === \"CE\") {\n      obj2.op1 = obj2.op2 = obj2.operation = null;\n    } else if (name === \"C\") {\n      obj2.op1 = obj2.op1.substr(0, obj2.op1.length - 1);\n    } else {\n      if (obj2.operation === null) {\n        obj2.op2 = obj2.op1;\n        obj2.op1 = null;\n        obj2.operation = name;\n      } else {\n        obj2 = calculate(obj2, name);\n      }\n    }\n\n  return obj2;\n}\n\nlet operations = {\n  \"+\": function (num1, num2) {\n    return num1 + num2;\n  },\n  \"*\": function (num1, num2) {\n    return num1 * num2;\n  },\n  \"/\": function (num1, num2) {\n    if (num2 === 0) return \"Err\";\n    return num1 / num2;\n  },\n  \"-\": function (num1, num2) {\n    return num1 - num2;\n  }\n};\n\nfunction calculate(obj, name) {\n  let obj2 = Object.assign({}, obj); //console.log(obj2);\n\n  if (isNaN(Number(obj2.op1)) || isNaN(Number(obj2.op2))) {\n    obj2.op1 = \"Invalid Number\";\n    obj2.op2 = null;\n    obj2.operation = null; // console.log(\"here\");\n  } else {\n    if (name !== '=') {\n      obj2.op2 = operations[obj2.operation](Number(obj2.op2), Number(obj2.op1));\n\n      if (isNaN(obj2.op2)) {\n        obj2.op1 = \"Invalid argument\";\n        obj2.op2 = null;\n        obj2.operation = null;\n        obj2.final = 1;\n      } else {\n        obj2.op1 = null;\n        obj2.operation = name;\n        obj2.final = 0;\n      }\n    } else {\n      obj2.op1 = \"\" + operations[obj2.operation](Number(obj2.op2), Number(obj2.op1));\n      obj2.op2 = null;\n      obj2.operation = null;\n      obj2.final = 1;\n    }\n  }\n\n  return obj2;\n}\n\nexport default updateState;","map":{"version":3,"sources":["C:/Users/vatsal/Documents/React/calculator/src/Calculate.js"],"names":["updateState","obj","name","obj2","Object","assign","isNaN","Number","op1","final","calculate","op2","operation","substr","length","operations","num1","num2"],"mappings":"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","sourcesContent":["//import React from 'react';\r\nfunction updateState(obj,name){\r\n    let obj2 = Object.assign({},obj);\r\n  if(!isNaN(Number(name))){\r\n      if(obj2.op1===null||isNaN(Number(obj2.op1))||obj2.final){\r\n        obj2.op1 = name;\r\n        obj2.final = 0;\r\n      }\r\n      else\r\n        obj2.op1 = obj2.op1 + name;\r\n  }\r\n  // else if(!operations[name] && name!=='='){\r\n  //     obj2.op1 = \"Invalid number\";\r\n  //     obj2.op2 = null;\r\n  //     obj2.operation = null;\r\n  // }\r\n  else if(name===\"=\"){\r\n    obj2 = calculate(obj2,name);\r\n  }\r\n  else if(name===\"CE\"){\r\n    obj2.op1 = obj2.op2 = obj2.operation = null;\r\n  }\r\n  else if(name===\"C\"){\r\n    obj2.op1 = obj2.op1.substr(0,obj2.op1.length-1);\r\n  }\r\n  else{\r\n      if(obj2.operation===null){\r\n      obj2.op2 = obj2.op1;\r\n      obj2.op1 = null;\r\n      obj2.operation = name;\r\n      }\r\n      else{\r\n       obj2 = calculate(obj2,name);\r\n      }\r\n  }\r\n  return obj2;\r\n}\r\n\r\nlet operations = {\r\n    \"+\" : function(num1,num2){\r\n         return num1 + num2;\r\n    },\r\n    \"*\" : function(num1,num2){\r\n      return num1* num2;\r\n   },\r\n    \"/\" : function(num1,num2){\r\n      if(num2===0)\r\n        return \"Err\";\r\n      return num1/num2;\r\n   },\r\n    \"-\" : function(num1,num2){\r\n      return num1-num2;\r\n   }\r\n}\r\n\r\nfunction calculate(obj,name){\r\n   let obj2 = Object.assign({},obj);\r\n   //console.log(obj2);\r\n   if(isNaN(Number(obj2.op1)) || isNaN(Number(obj2.op2))){\r\n     obj2.op1 = \"Invalid Number\";\r\n     obj2.op2 = null;\r\n     obj2.operation = null;\r\n    // console.log(\"here\");\r\n   }\r\n   else {\r\n     if(name!=='='){\r\n       obj2.op2 = operations[obj2.operation](Number(obj2.op2),Number(obj2.op1));\r\n       if(isNaN(obj2.op2)){\r\n         obj2.op1 = \"Invalid argument\";\r\n         obj2.op2 = null;\r\n         obj2.operation = null;\r\n         obj2.final = 1;\r\n       }\r\n      else{\r\n       obj2.op1 = null;\r\n       obj2.operation = name;\r\n       obj2.final = 0;\r\n      }\r\n     }\r\n     else{\r\n       obj2.op1 = \"\" +  operations[obj2.operation](Number(obj2.op2),Number(obj2.op1));\r\n       obj2.op2 = null;\r\n       obj2.operation = null;\r\n       obj2.final = 1;\r\n     }\r\n   }\r\n   return obj2;\r\n}\r\nexport default updateState;"]},"metadata":{},"sourceType":"module"}